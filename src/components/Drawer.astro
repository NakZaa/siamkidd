---
import { LINKS } from "@consts";
import { cn } from "@lib/utils";
const { pathname } = Astro.url;
const subpath = pathname.match(/[^/]+/g);
---

<div
  id="drawer"
  class="fixed inset-0 h-0 z-40 overflow-hidden flex flex-col items-center justify-center md:hidden bg-neutral-100 transition-[height] duration-300 ease-in-out"
>
  <nav class="flex flex-col items-center space-y-2">
    {
      LINKS.map((LINK) => (
        <a
          href={LINK.HREF}
          class={cn(
            "flex items-center justify-center px-3 py-1 rounded-full",
            "text-current hover:text-black ",
            "hover:bg-black/5 ",
            "transition-colors duration-300 ease-in-out",
            pathname === LINK.HREF || "/" + subpath?.[0] === LINK.HREF
              ? "pointer-events-none bg-black  text-white "
              : "",
          )}
        >
          {LINK.TEXT}
        </a>
      ))
    }
  </nav>

  <div class="flex gap-1 mt-5">
    <a
      href="https://www.facebook.com/SiamKidDSchool"
      target="_blank"
      no-referrer
      aria-label="Facebook"
      class="size-9 rounded-full p-2 items-center justify-center bg-transparent hover:bg-black/5 stroke-current hover:stroke-black border border-black/10 transition-colors duration-300 ease-in-out"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="text-black/75 size-full"
        aria-hidden="true"
        ><path
          d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"
        ></path></svg
      >
    </a>
  </div>
</div>

<style>
  #drawer.open {
    @apply h-full;
  }
</style>
